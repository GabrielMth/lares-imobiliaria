<div class="property-form">
  <h2 class="form-title">
    {{ property ? 'âœï¸ Editar ImÃ³vel' : 'â• Adicionar Novo ImÃ³vel' }}
  </h2>

  <form (ngSubmit)="onSubmit()" #propertyForm="ngForm">
    <div class="form-grid">

      <!-- Tipo -->
      <div class="form-group">
        <label for="type">Tipo de ImÃ³vel *</label>
        <select id="type" name="type" [(ngModel)]="formData.type" required>
          <option value="casa">ğŸ  Casa</option>
          <option value="apartamento">ğŸ¢ Apartamento</option>
          <option value="terreno">ğŸŒ³ Terreno</option>
        </select>
      </div>

      <!-- TransaÃ§Ã£o -->
      <div class="form-group">
        <label for="transactionType">Tipo de TransaÃ§Ã£o *</label>
        <select id="transactionType" name="transactionType" [(ngModel)]="formData.transactionType" required>
          <option value="venda">ğŸ’° Venda</option>
          <option value="aluguel">ğŸ·ï¸ Aluguel</option>
        </select>
      </div>

      <!-- TÃ­tulo -->
      <div class="form-group full-width">
        <label for="title">TÃ­tulo do ImÃ³vel *</label>
        <input
          type="text"
          id="title"
          name="title"
          [(ngModel)]="formData.title"
          placeholder="Ex: Casa Moderna com Piscina"
          required>
      </div>

      <!-- PreÃ§o -->
      <div class="form-group">
        <label for="price">PreÃ§o (R$) *</label>
        <input
          type="number"
          id="price"
          name="price"
          [(ngModel)]="formData.price"
          placeholder="850000"
          min="0"
          required>
      </div>

      <!-- Ãrea -->
      <div class="form-group">
        <label for="area">Ãrea (mÂ²) *</label>
        <input
          type="number"
          id="area"
          name="area"
          [(ngModel)]="formData.area"
          placeholder="280"
          min="0"
          required>
      </div>

      <!-- Quartos -->
      <div class="form-group">
        <label for="bedrooms">Quartos</label>
        <input
          type="number"
          id="bedrooms"
          name="bedrooms"
          [(ngModel)]="formData.bedrooms"
          placeholder="4"
          min="0">
      </div>

      <!-- Banheiros -->
      <div class="form-group">
        <label for="bathrooms">Banheiros</label>
        <input
          type="number"
          id="bathrooms"
          name="bathrooms"
          [(ngModel)]="formData.bathrooms"
          placeholder="3"
          min="0">
      </div>

      <!-- Vagas -->
      <div class="form-group">
        <label for="parking">Vagas de Garagem</label>
        <input
          type="number"
          id="parking"
          name="parking"
          [(ngModel)]="formData.parking"
          placeholder="2"
          min="0">
      </div>

      <!-- EndereÃ§o -->
      <div class="form-group">
        <label for="address">EndereÃ§o *</label>
        <input
          type="text"
          id="address"
          name="address"
          [(ngModel)]="formData.address"
          placeholder="Rua das Flores, 123"
          required>
      </div>

      <!-- Cidade / Bairro -->
      <div class="form-group">
        <label for="city">Cidade/Bairro *</label>
        <input
          type="text"
          id="city"
          name="city"
          [(ngModel)]="formData.city"
          placeholder="Centro"
          required>
      </div>

      <!-- DescriÃ§Ã£o -->
      <div class="form-group full-width">
        <label for="description">DescriÃ§Ã£o *</label>
        <textarea
          id="description"
          name="description"
          [(ngModel)]="formData.description"
          rows="4"
          placeholder="Descreva as caracterÃ­sticas principais do imÃ³vel..."
          required></textarea>
      </div>

      <!-- Imagem Principal -->
      <div class="form-group full-width">
        <label for="mainImage">URL da Imagem Principal *</label>
        <input
          type="url"
          id="mainImage"
          name="mainImage"
          [(ngModel)]="formData.mainImage"
          placeholder="https://exemplo.com/imagem.jpg"
          required>
        <small>Cole a URL completa da imagem (https://...)</small>
      </div>

      <!-- Galeria -->
      <div class="form-group full-width">
        <label>Galeria de Imagens (AtÃ© 4 imagens)</label>
        <div class="images-grid">
          <div class="image-input" *ngFor="let img of formData.images; let i = index">
            <input
              type="url"
              [name]="'image' + i"
              [ngModel]="formData.images[i]"
              (ngModelChange)="updateImageArray(i, $event)"
              [placeholder]="'URL da imagem ' + (i + 1)">
          </div>
        </div>
      </div>

      <!-- Destaque -->
      <div class="form-group full-width">
        <label class="checkbox-label">
          <input
            type="checkbox"
            name="featured"
            [(ngModel)]="formData.featured">
          <span>â­ Marcar como ImÃ³vel em Destaque</span>
        </label>
      </div>

    </div>

    <div class="form-actions">
      <button type="button" class="btn btn-outline" (click)="cancel()">
        Cancelar
      </button>

      <button type="submit" class="btn btn-primary" [disabled]="!propertyForm.form.valid">
        {{ property ? 'ğŸ’¾ Salvar AlteraÃ§Ãµes' : 'â• Adicionar ImÃ³vel' }}
      </button>
    </div>
  </form>
</div>
